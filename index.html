<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Logbook Digital Laboratorium</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ğŸ–¥ï¸</text></svg>">
  
  <!-- External CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- PapaParse for CSV parsing -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
  <!-- jsPDF for PDF generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
  <!-- CountUp.js for animated counters -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/countup.js/2.8.0/countUp.umd.min.js"></script>
</head>
<body>
  <header>
    <h1>Logbook Digital Laboratorium</h1>
  </header>

  <div class="cta-container">
    <a class="cta-button" href="https://docs.google.com/forms/d/e/1FAIpQLSeu1wPsYvgN12SLcOnpelaB84S11ePG_kxBlWghx_5XeTL9Xw/viewform?usp=header" target="_blank" rel="noopener">
      <span class="cta-icon">ğŸ“</span>
      <span class="cta-text">Isi Logbook</span>
      <span class="cta-description">Klik di sini untuk mengisi data kunjungan laboratorium</span>
    </a>
  </div>

  <div class="stats-container">
    <div class="stat-card">
      <div class="stat-icon">ğŸ“…</div>
      <div class="stat-title">Pengunjung Hari Ini</div>
      <div class="stat-value" id="today-counter">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">ğŸ“Š</div>
      <div class="stat-title">Pengunjung Bulan Ini</div>
      <div class="stat-value" id="month-counter">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">ğŸ“ˆ</div>
      <div class="stat-title">Total Tahun Ini</div>
      <div class="stat-value" id="year-counter">0</div>
    </div>
  </div>

  <main>
    <div class="controls">
      <div class="filter-group">
        <label for="lokasi-filter">Filter Berdasarkan Lokasi</label>
        <select id="lokasi-filter">
          <option value="all">Semua Lokasi</option>
        </select>
      </div>
      <button class="action-btn" id="refresh-btn" title="Refresh Data">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
        </svg>
        Refresh
      </button>
      <button class="action-btn" id="print-pdf-btn" title="Cetak ke PDF">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z" />
        </svg>
        Cetak PDF
      </button>
    </div>
    <div class="table-container">
      <table id="logbook-table">
        <thead>
          <tr>
            <th>Tanggal (Timestamp)</th>
            <th>Nama</th>
            <th>NPM/NIP</th>
            <th>Tanggal</th>
            <th>Aktivitas/Keperluan</th>
            <th>Keterangan</th>
            <th>Lokasi</th>
          </tr>
        </thead>
        <tbody id="logbook-body">
          <tr><td colspan="7" style="text-align:center; color:#888;">Memuat data...</td></tr>
        </tbody>
      </table>
      <div class="pagination">
        <button id="prev-page" class="page-btn">â† Sebelumnya</button>
        <span id="page-info">Halaman 1 dari 1</span>
        <button id="next-page" class="page-btn">Selanjutnya â†’</button>
      </div>
    </div>
  </main>
  <footer>
    Â© <span id="year"></span> Laboratorium Teknik Elektro dan Komputer
  </footer>
  
  <!-- External JS -->
  <script src="script.js"></script>
</body>
</html> 